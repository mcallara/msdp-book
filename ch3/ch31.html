
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>3.1 Testing &#8212; Modern Software Development Practices</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=384b581d" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="../_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=36754332"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=afe5de03"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script src="https://unpkg.com/mermaid@10.2.0/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'ch3/ch31';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="3.2 Test Driven Development (TDD)" href="portfolio.html" />
    <link rel="prev" title="3 Testing and Test Driven Development (TDD)" href="ch30.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/tds-logo-small.png" class="logo__image only-light" alt="Modern Software Development Practices - Home"/>
    <script>document.write(`<img src="../_static/tds-logo-small.png" class="logo__image only-dark" alt="Modern Software Development Practices - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Welcome to Modern Software Development Practices
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../ch1/ch10.html">1 Introduction to Version Control</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../ch1/ch11g.html">1.1 Your First Steps with the Command Line</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch1/ch12.html">1.2 Local repositories and commits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch1/ch13.html">1.3 Branches</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch1/ch14.html">1.4 Merging Branches</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch1/ch150_gitlab_auth_https.html">Setting Up Your GitLab Account</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch1/ch151_gitlab_https.html">1.5 Remote Repositories</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../ch2/ch20.html">2 AI-Assisted Software Development and Debugging</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../ch2/ch21.html">2.1 AI-Assisted Software Development</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch2/ch22.html">2.2 Debugging in Python with Visual Studio Code</a></li>
</ul>
</li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="ch30.html">3 Testing and Test Driven Development (TDD)</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2 current active"><a class="current reference internal" href="#">3.1 Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="portfolio.html">3.2 Test Driven Development (TDD)</a></li>
</ul>
</li>

<li class="toctree-l1 has-children"><a class="reference internal" href="../ch4/ch40.html">4 Python Packages, Virtual Environments and Dependency Management</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../ch4/ch41.html">4.1 Managing Python Versions</a></li>

<li class="toctree-l2"><a class="reference internal" href="../ch4/ch42.html">4.2 Python Project Management with Poetry</a></li>

<li class="toctree-l2"><a class="reference internal" href="../ch4/ch43.html">4.3 Dependency Management and Virtual Environments</a></li>

</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../ch5/ch50.html">5 Software Development Life Cycle, Versioning and Packaging.</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../ch5/ch51_gitlab.html">5.1 CI/CD pipelines with Gitlab</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch5/ch52_gitlab.html">5.2 Software Versioning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ch5/ch53_gitlab.html">5.3 Packaging</a></li>
</ul>
</li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/mcallara/msdp-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/mcallara/msdp-book/issues/new?title=Issue%20on%20page%20%2Fch3/ch31.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/ch3/ch31.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>3.1 Testing</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tests-as-documentation">Tests as documentation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#documentation-and-testing-with-doctest">Documentation and Testing with Doctest</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#testing-with-pytest">Testing with Pytest</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#arrange-act-assert">Arrange-Act-Assert</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#integration-with-visual-studio-code">Integration with Visual Studio Code</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="testing">
<h1>3.1 Testing<a class="headerlink" href="#testing" title="Link to this heading">#</a></h1>
<p>Testing is the act of evaluating software to see if it meets specified requirements and functions as expected. There are different types of tests that can be performed at different stages of the software development process. These tests can be classified into two main categories: functional and non-functional tests.</p>
<p>Functional testing assesses the core functionalities of a software system to verify that it behaves as expected according to specified requirements. It focuses on validating inputs, outputs, and the interactions between different components to ensure that the system performs its intended tasks correctly.</p>
<p>On the other hand, non-functional testing evaluates aspects of the system beyond its primary functions, such as performance, usability, reliability, and security. Non-functional testing aims to assess the quality attributes of the software, ensuring that it meets standards for efficiency, user experience, resilience, and protection against threats.</p>
<p>While functional testing confirms what the system does, non-functional testing explores how well it does it under various conditions, providing a comprehensive assessment of the software’s overall quality and suitability for its intended purpose.</p>
<div class="mermaid">
            flowchart TD
    A[Software Testing] --&gt; B(Functional)
    A --&gt; C(Non Functional)
    B --&gt; D[Unit\nTesting]
    B --&gt; E[Integration\nTesting]
    B --&gt; F[System\nTesting]
    B --&gt; G[Acceptation\nTesting]
    C --&gt; H[Security\nTesting]
    C --&gt; I[Performance\nTesting]
    C --&gt; J[Usability\nTesting]
    C --&gt; K[Compatibility\nTesting]
        </div><p>If we focus on functional testing, we can classify tests based on the level at which they are performed. Unit testing focuses on verifying the behavior of individual components or modules in isolation, while integration testing evaluates the interactions between different components to ensure that they work together as expected. System testing assesses the behavior of the entire system as a whole, and acceptance testing validates that the system meets the specified requirements and is ready for deployment.</p>
<p>We can also classify tests based on the level of automation. Automated testing uses software tools and scripts to execute test cases, validate system behavior, and provide rapid feedback. It’s efficient, repeatable, and ideal for regression testing, but requires initial setup and maintenance effort. While manual testing involves human intervention to execute test cases and verify software functionality by interacting directly with the application’s user interface. It’s intuitive but time-consuming and prone to human error.</p>
<p>In this chapter, we will focus on functional testing, and in particular automated unit testing. We will explore how to write and run tests using <code class="docutils literal notranslate"><span class="pre">doctest</span></code> and the <code class="docutils literal notranslate"><span class="pre">pytest</span></code> framework and how to integrate testing with Visual Studio Code.</p>
<section id="tests-as-documentation">
<h2>Tests as documentation<a class="headerlink" href="#tests-as-documentation" title="Link to this heading">#</a></h2>
<p>Although testing is crucial for verifying that the code behaves as intended and meets the specified requirements. It can also contribute to understanding the inner workings of the code. Through writing tests, developers often gain insights into the behavior of their code, its dependencies, and potential edge cases. Test code can serve as documentation, providing examples of how different parts of the system should behave under various conditions.</p>
<p>Testing inherently involves defining expected outcomes based on requirements and specifications. In this sense, writing tests requires a clear understanding of how the code should behave under different scenarios. By defining test cases that cover different aspects of the code’s functionality, developers articulate their understanding of the expected behavior, ensuring alignment between the code’s implementation and the desired outcomes.</p>
</section>
<section id="documentation-and-testing-with-doctest">
<h2>Documentation and Testing with Doctest<a class="headerlink" href="#documentation-and-testing-with-doctest" title="Link to this heading">#</a></h2>
<p>To start as lightweigth as possbile, we will first get familiar with doctest. Doctest is a module that comes with Python and allows you to write tests in the docstrings of your code.</p>
<p>Imagine that you are working on a Python file named <code class="docutils literal notranslate"><span class="pre">addition.py</span></code> and you developed the following  <code class="docutils literal notranslate"><span class="pre">add</span></code> function that adds two numbers and returns the result:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
</pre></div>
</div>
<p>To ensure that everyone understands what the function is supposed to do, you went ahead and added a docstring to the function:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Compute the sum of two numbers.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
</pre></div>
</div>
<p>To ensure that the function works as expected and since you know that a usage example always makes the documentation much more clear, you decide to add a test in the docstring.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Compute the sum of two numbers.</span>

<span class="sd">    Usage example:</span>
<span class="sd">    &gt;&gt;&gt; add(4.0, 2.0)</span>
<span class="sd">    6.0</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
</pre></div>
</div>
<p>The added <code class="docutils literal notranslate"><span class="pre">doctest</span></code> has two parts:</p>
<ul class="simple">
<li><p>The first part is the test itself, it starts with <code class="docutils literal notranslate"><span class="pre">&gt;&gt;&gt;</span></code> and contains the function call.</p></li>
<li><p>The second part is the expected output, it is the expected result of the function call.</p></li>
</ul>
<p>Now to run the tests, you can use the following command in the terminal:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>-m<span class="w"> </span>doctest<span class="w"> </span>-v<span class="w"> </span>addition.py
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Trying:
    add(4.0, 2.0)
Expecting:
    6.0
ok
1 items had no tests:
    addition
1 items passed all tests:
   1 tests in addition.add
1 tests in 2 items.
1 passed and 0 failed.
Test passed.
</pre></div>
</div>
</div>
</div>
<div class="hint admonition">
<p class="admonition-title">What to notice</p>
<ul class="simple">
<li><p>Doctest automatillcally detected the test in the docstring and ran it.</p></li>
<li><p>It shows the expected output and if the test passed.</p></li>
</ul>
</div>
<p>We can add as many tests as we want to the docstring. For example, we can add a test for the case when the two numbers are integers:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Compute the sum of two numbers.</span>

<span class="sd">    Usage examples:</span>
<span class="sd">    &gt;&gt;&gt; add(4.0, 2.0)</span>
<span class="sd">    6.0</span>
<span class="sd">    &gt;&gt;&gt; add(1, 3)</span>
<span class="sd">    4</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>-m<span class="w"> </span>doctest<span class="w"> </span>-v<span class="w"> </span>addition.py
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Trying:
    add(4.0, 2.0)
Expecting:
    6.0
ok
Trying:
    add(1, 3)
Expecting:
    4
ok
1 items had no tests:
    addition
1 items passed all tests:
   2 tests in addition.add
2 tests in 2 items.
2 passed and 0 failed.
Test passed.
</pre></div>
</div>
</div>
</div>
<div class="hint admonition">
<p class="admonition-title">What to notice</p>
<ul class="simple">
<li><p>We now see the two tests and their results.</p></li>
</ul>
</div>
<p>As we add more tests, the docstring becomes longer and harder to read. We can remove the -v flag to avoid the verbose output.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>-m<span class="w"> </span>doctest<span class="w"> </span>addition.py
</pre></div>
</div>
</div>
</div>
<div class="hint admonition">
<p class="admonition-title">What to notice</p>
<ul class="simple">
<li><p>If all tests pass we see no output.</p></li>
</ul>
</div>
<p>But what if a test fails? Let’s see what happens if we change the second test to expect 5 instead of 4:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Compute the sum of two numbers.</span>

<span class="sd">    Usage examples:</span>
<span class="sd">    &gt;&gt;&gt; add(4.0, 2.0)</span>
<span class="sd">    6.0</span>
<span class="sd">    &gt;&gt;&gt; add(1, 3)</span>
<span class="sd">    5</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
</pre></div>
</div>
<div class="hint admonition">
<p class="admonition-title">What to notice</p>
<ul class="simple">
<li><p>We see the doctest telling us that the test failed.</p></li>
<li><p>We see the expected output and the actual output.</p></li>
</ul>
</div>
</section>
<section id="testing-with-pytest">
<h2>Testing with Pytest<a class="headerlink" href="#testing-with-pytest" title="Link to this heading">#</a></h2>
<p>As our project grows, we will usually need a more powerful tool to write and run tests. Pytest is a popular testing framework that makes writing and running tests easier. Pytest is a third-party package, this means that we need to install it before we can use it.</p>
<p>We can use pip to install pytest:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>pytest
</pre></div>
</div>
<p>To explore how pytest works, let’s get back to our <code class="docutils literal notranslate"><span class="pre">addition.py</span></code> file and our original implementation of the <code class="docutils literal notranslate"><span class="pre">add</span></code> function without the doctests.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Compute the sum of two numbers.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
</pre></div>
</div>
<p>To write tests with pytest, we use the <code class="docutils literal notranslate"><span class="pre">assert</span></code> statement to check if the function returns the expected result. Although we can write the tests in the same file as we did when we explored the doctests, this time we will write the tests in a separate file named <code class="docutils literal notranslate"><span class="pre">test_addition.py</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">test_add</span><span class="p">():</span>
    <span class="kn">from</span> <span class="nn">addition</span> <span class="kn">import</span> <span class="n">add</span>
    <span class="n">sum_result</span> <span class="o">=</span> <span class="n">add</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">sum_result</span> <span class="o">==</span> <span class="mi">6</span>
</pre></div>
</div>
<p>To run the tests, we use the <code class="docutils literal notranslate"><span class="pre">pytest</span></code> command in the terminal:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pytest<span class="w"> </span>test_addition.py
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Bold">============================= test session starts ==============================</span>
platform linux -- Python 3.7.4, pytest-7.4.4, pluggy-1.2.0
rootdir: /home/callaram/tds/home/ch3
collected 1 item                                                               

test_addition.py <span class=" -Color -Color-Green">.                                                       [100%]</span>

<span class=" -Color -Color-Green">============================== </span><span class=" -Color -Color-Bold -Color-Bold-Green">1 passed</span><span class=" -Color -Color-Green"> in 0.01s ===============================</span>
</pre></div>
</div>
</div>
</div>
<div class="admonition-what-to-notice admonition">
<p class="admonition-title">What to notice</p>
<ul class="simple">
<li><p>We see that in this case pytest automatically detected the test in the file and ran it.</p></li>
<li><p>The green dot at the side of the test name indicates that the test passed.</p></li>
</ul>
</div>
</section>
<section id="arrange-act-assert">
<h2>Arrange-Act-Assert<a class="headerlink" href="#arrange-act-assert" title="Link to this heading">#</a></h2>
<p>In general, unit tests follow the Arrange-Act-Assert pattern. This means that we:</p>
<ul class="simple">
<li><p>Arrange: prepare the environment for the test.</p></li>
<li><p>Act: perform the action that we want to test.</p></li>
<li><p>Assert: check if the result is as expected.</p></li>
</ul>
<p>In the test we just wrote:</p>
<ul class="simple">
<li><p>Arrange: we import the <code class="docutils literal notranslate"><span class="pre">add</span></code> function from the <code class="docutils literal notranslate"><span class="pre">addition</span></code> module.</p></li>
<li><p>Act: we call the <code class="docutils literal notranslate"><span class="pre">add</span></code> function with the arguments 4 and 2.</p></li>
<li><p>Assert: we check if the result is 6.</p></li>
</ul>
</section>
<section id="integration-with-visual-studio-code">
<h2>Integration with Visual Studio Code<a class="headerlink" href="#integration-with-visual-studio-code" title="Link to this heading">#</a></h2>
<p>Pytest integrates very well with Visual Studio Code. Visual Studio Code will automatically look for files that start with the word <code class="docutils literal notranslate"><span class="pre">test</span></code> detect the tests in the file and show a <code class="docutils literal notranslate"><span class="pre">Run</span> <span class="pre">Test</span></code> button. If we click on it, we will see the test result in the <code class="docutils literal notranslate"><span class="pre">Test</span> <span class="pre">Explorer</span></code> tab.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "bash"
        },
        kernelOptions: {
            name: "bash",
            path: "./ch3"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'bash'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="ch30.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">3 Testing and Test Driven Development (TDD)</p>
      </div>
    </a>
    <a class="right-next"
       href="portfolio.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">3.2 Test Driven Development (TDD)</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tests-as-documentation">Tests as documentation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#documentation-and-testing-with-doctest">Documentation and Testing with Doctest</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#testing-with-pytest">Testing with Pytest</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#arrange-act-assert">Arrange-Act-Assert</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#integration-with-visual-studio-code">Integration with Visual Studio Code</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Matias Callara
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2025.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>